<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sprite Sheet Maker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="navigation">
    <button id="readmeBtn" onclick="window.open('readme.html', '_blank')">📖 View README</button>
  </div>
  
  <h1>Sprite Sheet Maker</h1>

  <div id="controls">
    <input type="file" id="fileInput" multiple accept="image/*">
    <label>Columns: <input type="number" id="columnsInput" value="1" min="1" style="width:60px"></label>
    <button id="combineBtn">Combine</button>
    <button id="downloadBtn">Download</button>
    <button id="darkModeBtn" style="background:#242950;color:#eee;">🌙 Dark Mode</button>
  </div>

  <div id="preview"></div>

  <canvas id="canvas"></canvas>

  <div id="sprite-navigator" style="margin-top:40px; text-align:center;">
    <hr>
    <h2>Sprite Navigator & Recorder</h2>
    <div style="margin-bottom:10px;">
      <button id="prevSpriteBtn">⬅️</button>
      <span id="spriteIndexLabel"></span>
      <button id="nextSpriteBtn">➡️</button>
    </div>
    <div id="recordingPreviewWrapper" style="display:inline-block; position:relative;">
      <canvas id="recordingPreview" width="320" height="240" style="border:2px solid #888; background:#222;"></canvas>
    </div>
    <div style="margin:10px 0;">
      <button id="startControlledRecordingBtn" style="padding:8px 14px;background:#4CAF50;color:#fff;border-radius:8px;border:none;cursor:pointer;">🎬 Start Controlled Recording</button>
      <button id="stopControlledRecordingBtn" style="padding:8px 14px;background:#e63946;color:#fff;border-radius:8px;border:none;cursor:pointer;display:none;">⏹️ Stop Recording</button>
      <button id="downloadControlledVideoBtn" style="display:none;margin-left:10px;padding:8px 14px;background:#2196F3;color:#fff;border-radius:8px;border:none;cursor:pointer;">⬇️ Download Video</button>
      <button id="removeControlledVideoBtn" style="display:none;margin-left:10px;padding:8px 14px;background:#888;color:#fff;border-radius:8px;border:none;cursor:pointer;">🗑️ Remove Recording</button>
      <div id="controlledRecordingTimeBar" style="margin-top:8px;height:22px;min-width:120px;display:none;align-items:center;justify-content:center;">
        <span id="controlledRecordingTimeLabel" style="font-size:15px;background:#222;color:#fff;padding:2px 10px;border-radius:6px;"></span>
      </div>
    </div>
    <div style="margin:10px 0;">
      <label>Background Color: <input type="color" id="bgColorPicker" value="#ffffff"></label>
      <label>Or Upload Background: <input type="file" id="bgImageInput" accept="image/*"></label>
    </div>
    <div style="margin:10px 0;">
      <label>Aspect Ratio:
        <select id="aspectRatioSelect">
          <option value="1:1">1:1</option>
          <option value="4:3" selected>4:3</option>
          <option value="16:9">16:9</option>
          <option value="9:16">9:16</option>
          <option value="3:2">3:2</option>
          <option value="2:3">2:3</option>
          <option value="5:4">5:4</option>
          <option value="4:5">4:5</option>
          <option value="21:9">21:9</option>
        </select>
      </label>
      <label style="margin-left:20px;">Zoom Out (%): <input type="number" id="zoomPercentInput" value="40" min="10" max="100" style="width:60px"></label>
    </div>
    <div id="spritePreviewSelector" style="margin-top:20px;display:flex;flex-wrap:wrap;gap:8px;justify-content:center;">
      <!-- Sprite previews for selection will be rendered here -->
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
